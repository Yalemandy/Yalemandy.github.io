<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><script>
                    (() => {
                        const sw = navigator.serviceWorker
                        const error = () => console.error('Service Worker 注册失败！可能是由于您的浏览器不支持该功能！')
                        if (!sw?.register('/sw.js')
                            
                            ?.catch(error)
                            ) error()
                    })()
                </script><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>AJAX | Yalemandy Blog</title><meta name="keywords" content="前端"><meta name="author" content="Yalemandy"><meta name="copyright" content="Yalemandy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="AJAX"><meta name="application-name" content="AJAX"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="AJAX"><meta property="og:url" content="https://yalemandy.github.io/2024/05/16/NodeJs/index.html"><meta property="og:site_name" content="Yalemandy Blog"><meta property="og:description" content="Node.1.简介Node.js 不能单纯的使用js做后端开发 需要通过node.js 在使用js 做后端开发的时候需要借用Node.js  1.1 Node .js中包含的js运行环境Node.js使一个基于chrome V8引擎的JavaScript 总结：浏览器是js的前端运行环境 Node."><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=11"><meta property="article:author" content="Yalemandy"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=11"><meta name="description" content="Node.1.简介Node.js 不能单纯的使用js做后端开发 需要通过node.js 在使用js 做后端开发的时候需要借用Node.js  1.1 Node .js中包含的js运行环境Node.js使一个基于chrome V8引擎的JavaScript 总结：浏览器是js的前端运行环境 Node."><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://yalemandy.github.io/2024/05/16/NodeJs/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"/><link rel="mask-icon" href="/img/siteicon/apple-icon-180.png" color="#5bbad5"/><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"/><link rel="bookmark" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: {"apiurl":"https://friends.anheyu.com/"},
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Yalemandy","link":"链接: ","source":"来源: Yalemandy Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Yalemandy Blog',
  title: 'AJAX',
  postAI: '',
  pageFillDescription: 'Node., 1.简介Node.js, 1.1 Node .js中包含的js运行环境, 1.2Node.js 作用, 1.3 Node.js 学习路线, 1.4 终端, 1.5 Buffer(缓冲器), 2.文件系统模块, 2.1 导入 fs, 2.2 文件的读取与写入, 2.3 异步写入文件, 2.4路径动态拼接、, 2.5 文件的写入场景, 2.6 文件写入流, 2.7 文件的读取, 2.8 读取文件流, 2.9 文件的复制, 2.10 文件的重命名, 2.11 删除文件, 2.12 文件夹操作, 2.13 获取文件的状态, 3.path 路径模块, 3.1 path 导入, 3.2 路径拼接 join, 3.3 获取路径的最后部分 basename, 34 获取文件的扩展名 extname(), 4.缓冲器, 5.http协议, 5.1 网页的加载过程, 5.2 请求报文, 5.3 响应报文, 5.4Cream 查看请求报文与响应报文( 重要 ), 5.5 创建HTTP服务, 5.6 请求报文的请求方式, 5.7响应报文的一些api, 5.8 Http 练习（多个）简介不能单纯的使用做后端开发需要通过在使用做后端开发的时候需要借用中包含的运行环境使一个基于引擎的总结浏览器是的前端运行环境是的后端的运行环境包含了以下两个核心的内容的引擎的内置的是接口是通道是用来负责一个软件和另外一个软件的沟通与交流的中不能使用和操作的作用是底层基于的底层可以在此基础上做很多事情学习路线的基础语法内置模块第三方模块等终端终端是为程序员设计的人机交互的一种方式终端的使用打开终端后面接文件名终端中的快捷键上箭头定位到上一次执行的命令自动补全清空当前输入的命令输入清空终端的所用的命令缓冲器是一个和数组类似的文件系统模块是官方提供的用来对文件进行读写导入通过这行命令来导入模块需求需要做某事文件的读取与写入读取文件内容路径选择回收参数读取文件的路径参数读取文件的时候采用的编码格式参数回调函数失败的信息成功的信息要写入的内容读取失败按照空格来进行分割写入失败调用模块来写入文件写入的内容写入失败写入成功标记只读只写追加如果要想文件的后面的内容可以追加只需要将文件的设置为哈哈哈哈哈异步写入文件同步就是等结果返回后再执行异步就是不等返回结果就开始执行判断是同步还是异步执行就在回调函数中和外部输出查看返回结果路径内容路径动态拼接如果是以相对路径来看就很容易出现路径错误解决方法直接提供完整的文件提供路径来执行同时在中表示的是转义的意思我们需要手动的去加一个来解决但是提供完整的存放路径可以解决路径拼接的问题但是移植性很差表示当前文件所处的位置使用拼接当前文件的名称的方式就能解决移植性差的问题文件的写入场景当我们需要持久化保存数据的时候我们就需要文件写入文件的下载文件的安装日志聊天记录数据库网盘文件写入流引入模块创建写入流对象创建写入流对象向文件中写入内容我是写入的内容关闭写入流对于简单的写入较少的情况想使用对于多次写入较多文件的情况下使用文件的读取回调函数错误对象读取成功后的文件内容同步读取文件路径回调函数错误对象读取成功后的文件内容读取失败同步读取读取文件流创建读取流对象绑定事件有的时候当的时候文件的复制创建流对象绑定事件读取内容通过自带的方法也能实现文件的复制复制的文件目标地址回调函数文件的重命名引入模块调用方法目标文件新的文件回调函数重命名成功删除文件路径回调文件夹操作创建文件夹删除文件夹读取文件夹路径回调函数读取文件下下的列表获取文件的状态不能通过文件的名称来判断文件的类型接收的回调是一个对象路径文件创建练习像这种异步的任务下面有回调函数然后还有回调就称为回调地狱创建文件夹文件创建成功路径模块是官方用来处理路径的模块满足用户对路径处理的需求导入路径拼接方法可以把多个路径片段拼接成一个完整的路径片段注意这个会抵消掉前面的一层路径上面代码输出为在后面如果要使用路径拼接的时候就只用方法获取路径的最后部分使用方法可以获取路径中的最后一部分通常用啦获取文件中的文件名文件路径文件的后缀名第二个参数是是否去掉文件的后缀名获取完整的文件名包括后缀返回值清楚掉后缀返回值获取文件的扩展名文件路径返回值是文件的后缀名返回值是缓冲器是一个和数组类似的对象但是是专门用来保存二进制的的初始化创建一个字节的字符串返回的是与字符对应的数据的读取设置直接修改溢出个进制位能保存的最大的是如果这个数字超过的话高于位的二进制位就会被舍弃介绍是一个和数组类似的对象不同是是专门用来保存二进制数据的特点大小固定在创建时就确定了且无法调整性能较好直接对计算机的内存进行操作每个元素大小为字节操作创建直接创建不安全创建通过数组和字符串创建读取和写入可以直接通过的方式对数据进行处理可以使用方法将输出为字符串对进行读取和设置将转化为字符串关于溢出溢出的高位数据会舍弃关于中文一个的中文字符大多数情况都是占个字节关于单位换算对应的是个二进制位字节平时所说的网速这里指的是所以理论下载速度除以才是正常的理解的下载速度文件系统全称为是中的内置模块可以对计算机中的文件进行增删改查等操作文件写入简单写入选项默认值默认值默认值流式写入默认值默认值默认值事件监听文件读取简单读取流式读取文件删除移动文件重命名文件夹操作创建文件夹是否递归调用权限默认为删除文件夹读取文件夹协议超文本传输协议都遵守这种约定来进行数据的传输网页的加载过程四次浏览器向服务器发送请求服务器向浏览器返回响应请求报文请求报文由四个部分组成请求行三段内容组成请求方式常见的就是个其他的用的相对较少组成协议协议域名域名地址路径查询字符串表示的是映射的关系参数协议的版本这个一般是固定的请求头格式请求头的名字请求头的值请求行请求头表明客户端所能接受的数据的类型表明客户端支持的语言类型客户端的字符串标志表明客户端支持的压缩方式服务端的主机名连接配置保持连接断开小甜饼缓存控制强制浏览器发送请求时使用请求空行在格式上做一些分割请求体请求体请求体内容表单登录请求体的格式是非常灵活的不响应报文组成部分响应行协议的版本响应的状态码成功跳转找不到资源禁止的服务器内部错误信息响应成功响应重定向客户端错误服务器错误响应的状态字符串响应的状态字符串响应头响应头格式与请求头格式一致名字值和为百度自定义的响应头缓存控制只允许客户端缓存数据连接设置响应体内容的类型表明响应体为内容表明响应体为内容表明响应体为表明响应体为的图片响应时间过期时间服务器信息设置响应头与结合使用跟踪强制浏览器使用最新的解析器解析网页使用的内核解析网页响应体的长度响应空行响应体响应体格式比较灵活场景的格式有图片查看请求报文与响应报文重要创建服务引入模块调用方法创建服务对象监听端口启动服务引入模块调用方法创建服务对象请求报文的封装对象响应报文的封装对象监听端口启动服务服务已经启动端口监听中请求报文的请求方式引入模块引入的模块调用方法创建服务对象请求报文的封装对象响应报文的封装对象获取请求报文中的内容请求的类型请求的请求的协议版本客户端会向服务端发送请求发送的是请求报文请求报文请求报文由请求行请求行包括由协议域名端口组成服务端会向客户端发送响应这个叫做响应报文获取中的路径的部分请求头信息修改代码一定要重启服务监听端口启动服务服务已经启动端口监听中响应报文的一些响应行状态码状态字符串响应头自定义信息响应体响应体不能为空练习多个背景变色设置响应头获取请求中的参数设置响应体身是菩提树心如明镜台时时勤拂拭勿使惹尘埃数据表格加载不同请求返回不同结果根据不同的路径来返回不同的结果获取请求类型获取路径判断看是什么请求登录注册响应代码存在中文解码错误的问题所以需要我们调用一个一个函数来对中文路径来进行解码能对中文路径进行解码如果请求为路径为变色的话就返回解析后的变色变色变色根据路径响应文件内容使用方法将路径解析为一个方便操作的对象第二个参数为表示直接将查询字符串转为一个对象通过属性来访问发请求如果是就返回的内容返回如果是其他的就返回其他的服务已经启动端口监听中路径响应',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2024-07-14 19:21:16',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><!-- hexo injector head_end start --><script defer src="/sw-dom.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/./img/favicon1.ico"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="/www.yxyy04.cn" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="/793335974.github.io" title="wjt-blog"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://c.wallhere.com/photos/fd/08/3840x2160_px_black_background_Patrick_Star_Simple_Simple_Background_SpongeBob_SquarePants-1313473.jpg!d" alt="wjt-blog"/><span class="back-menu-item-text">wjt-blog</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Yalemandy Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/./img/wechatpay.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/wechatpay.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/./img/alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Es6/" style="font-size: 1.05rem;">Es6<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>1</sup></a><a href="/tags/Node-Js/" style="font-size: 1.05rem;">Node.Js<sup>1</sup></a><a href="/tags/vue/" style="font-size: 1.05rem;">vue<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>5</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.05rem;">数据结构<sup>9</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 1.05rem;">项目<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">19</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url">前端</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>前端</span></a></span></div></div><h1 class="post-title" itemprop="name headline">AJAX</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-07-14T11:21:16.016Z" title="更新于 2024-07-14 19:21:16">2024-07-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="AJAX"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为襄阳"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>襄阳</span></div></div></div><article class="post-content" id="article-container" itemscope itemtype="https://yalemandy.github.io/2024/05/16/NodeJs/"><header><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url">前端</a><a href="/tags/%E5%89%8D%E7%AB%AF/" tabindex="-1" itemprop="url">前端</a><h1 id="CrawlerTitle" itemprop="name headline">AJAX</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Yalemandy</span><time itemprop="dateCreated datePublished" datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time><time itemprop="dateCreated datePublished" datetime="2024-07-14T11:21:16.016Z" title="更新于 2024-07-14 19:21:16">2024-07-14</time></header><h1 id="Node"><a href="#Node" class="headerlink" title="Node."></a>Node.</h1><h2 id="1-简介Node-js"><a href="#1-简介Node-js" class="headerlink" title="1.简介Node.js"></a>1.简介Node.js</h2><blockquote>
<p><strong>不能单纯的使用js做后端开发 需要通过node.js</strong></p>
<p><strong>在使用js 做后端开发的时候需要借用Node.js</strong></p>
</blockquote>
<h3 id="1-1-Node-js中包含的js运行环境"><a href="#1-1-Node-js中包含的js运行环境" class="headerlink" title="1.1 Node .js中包含的js运行环境"></a>1.1 Node .js中包含的js运行环境</h3><p><strong>Node.js使一个基于chrome V8引擎的JavaScript</strong></p>
<p><strong>总结：浏览器是js的前端运行环境 Node.js 是js的后端的运行环境</strong></p>
<p><strong>Node.js包含了以下两个核心的内容</strong></p>
<ol>
<li><strong>cream V8的引擎</strong></li>
<li><strong>Node.js的内置的API（API 是接口是通道 是用来负责一个软件和另外一个软件的沟通与交流的）</strong></li>
<li><strong>Node.js中不能使用DOM和BOM操作的</strong></li>
</ol>
<h3 id="1-2Node-js-作用"><a href="#1-2Node-js-作用" class="headerlink" title="1.2Node.js 作用"></a>1.2Node.js 作用</h3><blockquote>
<p><strong>Node.js 是底层 基于Node.js的底层可以在此基础上做很多事情</strong></p>
</blockquote>
<h3 id="1-3-Node-js-学习路线"><a href="#1-3-Node-js-学习路线" class="headerlink" title="1.3 Node.js 学习路线"></a>1.3 Node.js 学习路线</h3><ol>
<li><strong>JavaScript 的基础语法</strong></li>
<li><strong>Node.js内置API模块</strong></li>
<li><strong>第三方API模块 mysql 等</strong></li>
</ol>
<h3 id="1-4-终端"><a href="#1-4-终端" class="headerlink" title="1.4 终端"></a>1.4 终端</h3><blockquote>
<p><strong>终端是为程序员设计的人机交互的一种方式</strong></p>
</blockquote>
<ul>
<li><p><strong>终端的使用</strong><br><strong>打开终端， node 后面接 文件名</strong></p>
</li>
<li><p>终端中的快捷键</p>
<blockquote>
<p><strong>上箭头 ：定位到上一次执行的命令</strong></p>
<p><strong>Tap：自动补全</strong></p>
<p><strong>Esc：清空当前输入的命令</strong></p>
<p><strong>输入cls：清空终端的所用的命令</strong></p>
</blockquote>
</li>
</ul>
<h3 id="1-5-Buffer-缓冲器"><a href="#1-5-Buffer-缓冲器" class="headerlink" title="1.5 Buffer(缓冲器)"></a>1.5 Buffer(缓冲器)</h3><blockquote>
<p><strong>buffer 是一个和数组类似的</strong></p>
</blockquote>
<h2 id="2-文件系统模块"><a href="#2-文件系统模块" class="headerlink" title="2.文件系统模块"></a>2.文件系统模块</h2><blockquote>
<p><strong>fs 是Node.js 官方提供的 用来对文件进行读写</strong></p>
</blockquote>
<h3 id="2-1-导入-fs"><a href="#2-1-导入-fs" class="headerlink" title="2.1 导入 fs"></a>2.1 导入 fs</h3><blockquote>
<p><strong>通过这行命令来导入fs模块</strong></p>
<p><strong>require 需求 需要做(某事)</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="2-2-文件的读取与写入"><a href="#2-2-文件的读取与写入" class="headerlink" title="2.2 文件的读取与写入"></a>2.2 文件的读取与写入</h3><p><strong>fs.readFile() 读取文件内容</strong></p>
<blockquote>
<p><strong>fs.readFile(path,[options]，callback)</strong></p>
<p><strong>path 路径 options 选择 callback 回收</strong></p>
<p><strong>参数1：读取文件的路径</strong></p>
<p><strong>参数2：读取文件的时候采用的编码格式</strong></p>
<p><strong>参数3：回调函数function（err ，dataStr）err失败的信息 dataStr 成功的信息</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">fs.readFile(&#x27;1.txt&#x27;,&#x27;utf-8&#x27;,function(err,dataStr)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">console.log(&#x27;cg&#x27;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">console.log(err);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>fs.writeFile(path ,要写入的内容，callback)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">fs.readFile(&#x27;./1.txt&#x27;,&#x27;utf-8&#x27;,function(err,dataStr)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">return console.log(&#x27;读取失败&#x27;+err.message);</span><br><span class="line">&#125;else&#123;</span><br><span class="line"></span><br><span class="line">const oldarr=dataStr.split(&#x27; &#x27;);//按照空格来进行分割</span><br><span class="line">const newarr=[];</span><br><span class="line">oldarr.forEach(item=&gt;&#123;</span><br><span class="line">newarr.push(item.replace(&#x27;:&#x27;,&#x27;=&#x27;))</span><br><span class="line">&#125;)</span><br><span class="line">console.log(newarr);</span><br><span class="line">const arr=newarr.join(&#x27;\r\n&#x27;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">fs.writeFile(&#x27;./2.txt&#x27;, arr,function(err,dataStr)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">console.log(&#x27;写入失败&#x27;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line"></span><br><span class="line">return console.log(dataStr);</span><br><span class="line">&#125;</span><br><span class="line">&#125;  )</span><br><span class="line">&#125;  )</span><br></pre></td></tr></table></figure>

<p><strong>调用fs模块来写入文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">cosnt fs=require(&#x27;fs&#x27;)；</span><br><span class="line">fs.writeFile(&#x27;/.index.html&#x27;,&#x27;写入的内容&#x27;,function(err)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">console.log(&#x27;写入失败&#x27;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">console.log(&#x27;写入成功&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>flag 标记</strong></p>
<blockquote>
<p><strong>r read :只读</strong></p>
<p><strong>w write :只写</strong></p>
<p><strong>a append :追加</strong></p>
</blockquote>
<p><strong>如果要想文件的后面的内容可以追加 只需要将文件的flag设置为a</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;)；</span><br><span class="line">fs.writeFIle(&#x27;/1.html&#x27;,&#x27;哈哈哈哈哈&#x27;,&#123;flag:&#x27;a&#x27;&#125;,function(err)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">console.log(&#x27;sb&#x27;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">console.log(&#x27;cg&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>

<h3 id="2-3-异步写入文件"><a href="#2-3-异步写入文件" class="headerlink" title="2.3 异步写入文件"></a>2.3 异步写入文件</h3><p>**同步就是等结果返回后再执行 **</p>
<p><strong>异步就是不等返回结果就开始执行</strong></p>
<p><strong>判断是同步还是异步执行就在回调函数中和 外部输出 查看返回结果</strong></p>
<blockquote>
<p><strong>fs.writeFileSync(‘路径’,’内容)</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">fs.writeFileSync(&#x27;./1,txt&#x27;,&#x27;ddddddd&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="2-4路径动态拼接、"><a href="#2-4路径动态拼接、" class="headerlink" title="2.4路径动态拼接、"></a>2.4路径动态拼接、</h3><blockquote>
<p><strong>如果是以相对路径来看就很容易出现路径错误</strong></p>
<p><strong>解决方法：直接提供完整的文件提供路径来执行 同时在js中&#x2F;表示的是转义的意思我们需要手动的去 加一个&#x2F; 来解决</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">fs.readFile(&#x27;C:/Users/WYQ/Desktop/Node/1.txt&#x27;,&#x27;utf8&#x27;,function(err,dataStr)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">return console.log(&#x27;cw&#x27;);</span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line">return console.log(dataStr);</span><br><span class="line">&#125;</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>

<p><strong>但是提供完整的存放路径可以解决路径拼接的问题 但是移植性很差</strong></p>
<p><strong>–dirname 表示当前文件所处的位置</strong></p>
<ul>
<li><p><strong>–dirname</strong></p>
<blockquote>
<p><strong>使用dirname 拼接当前文件的名称的方式就能解决 移植性差的问题</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">console.log(__dirname);</span><br><span class="line">fs.readFile(__dirname+&#x27;/1.txt&#x27;,&#x27;utf8&#x27;,function(err,dataStr)&#123;</span><br><span class="line">if(err)&#123;</span><br><span class="line">return console.log(&#x27;cw&#x27;);</span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line">return console.log(dataStr);</span><br><span class="line">&#125;</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-5-文件的写入场景"><a href="#2-5-文件的写入场景" class="headerlink" title="2.5 文件的写入场景"></a>2.5 文件的写入场景</h3><blockquote>
<p><strong>当我们需要持久化保存数据的时候我们就需要文件写入</strong></p>
</blockquote>
<ol>
<li>**文件的下载 **</li>
<li><strong>文件的安装</strong></li>
<li><strong>日志 （聊天记录）</strong></li>
<li><strong>数据库</strong></li>
<li><strong>网盘</strong></li>
</ol>
<h3 id="2-6-文件写入流"><a href="#2-6-文件写入流" class="headerlink" title="2.6 文件写入流"></a>2.6 文件写入流</h3><blockquote>
<p><strong>引入fs模块 创建写入流对象</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">//创建写入流对象</span><br><span class="line">const ws=fs.createwriteStream(&#x27;./3.txt&#x27;);</span><br><span class="line"></span><br><span class="line"> //向文件中写入内容</span><br><span class="line"> ws.write(&#x27;我是写入的内容&#x27;);</span><br><span class="line"> //关闭写入流</span><br><span class="line"> ws.clear();</span><br></pre></td></tr></table></figure>

<p><strong>对于简单的写入较少的情况想使用writeFile</strong></p>
<p><strong>对于多次 写入较多文件的情况下使用CreteWriteStream</strong></p>
<h3 id="2-7-文件的读取"><a href="#2-7-文件的读取" class="headerlink" title="2.7 文件的读取"></a>2.7 文件的读取</h3><blockquote>
<p><strong>fs.readFile(‘path’,回调函数（err(错误对象),data(读取成功后的文件内容)）)</strong></p>
<p><strong>&#x2F;&#x2F;同步读取</strong><br><strong>fs.readFileSync(‘文件路径’);</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">// fs.readFile(&#x27;path&#x27;,回调函数（err(错误对象),data(读取成功后的文件内容)）)</span><br><span class="line">fs.readFile(&#x27;./1.txt&#x27;,function(err,data)&#123;</span><br><span class="line">	if(err)&#123;</span><br><span class="line">		console.log(&#x27;读取失败&#x27;+err);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		return console.log(data.toString());</span><br><span class="line">	&#125;</span><br><span class="line">&#125; )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//同步读取</span><br><span class="line">let data=fs.readFileSync(&#x27;./1.txt&#x27;);</span><br><span class="line">console.log(data.toString());</span><br></pre></td></tr></table></figure>

<h3 id="2-8-读取文件流"><a href="#2-8-读取文件流" class="headerlink" title="2.8 读取文件流"></a>2.8 读取文件流</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line"></span><br><span class="line">//创建读取流对象</span><br><span class="line">let fsread=fs.createReadStream(&#x27;./1.txt&#x27;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//绑定事件   on 有when的时候 当，，，的时候</span><br><span class="line">fsread.on(&#x27;data&#x27;,(chuck)=&gt;&#123;</span><br><span class="line">	console.log(chuck);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-9-文件的复制"><a href="#2-9-文件的复制" class="headerlink" title="2.9 文件的复制"></a>2.9 文件的复制</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line"></span><br><span class="line">// 创建流对象</span><br><span class="line">const ws=fs.createWriteStream(&#x27;./1.txt&#x27;);</span><br><span class="line">const rs=fs.createReadStream(&#x27;./4.txt&#x27;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//绑定事件读取内容</span><br><span class="line">rs.on(&#x27;data&#x27;,function(chunk)&#123;</span><br><span class="line">	ws.wirte(chunk);</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure>

<p><strong>通过node.js 自带的copy方法也能实现文件的复制</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">fs.copy(&#x27;复制的文件&#x27;,&#x27;目标地址&#x27;,回调函数)；</span><br></pre></td></tr></table></figure>

<h3 id="2-10-文件的重命名"><a href="#2-10-文件的重命名" class="headerlink" title="2.10 文件的重命名"></a>2.10 文件的重命名</h3><blockquote>
<ol>
<li><strong>引入fs模块</strong></li>
<li><strong>调用rename（）方法</strong><br><strong>raname(‘目标文件’,‘新的文件’，回调函数)。</strong></li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">fs.rename(&#x27;./1.txt&#x27;,&#x27;./2222222.txt&#x27;,function(err)&#123;</span><br><span class="line">	if(err) throw err;</span><br><span class="line">	console.log(&#x27;重命名成功&#x27;);</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>

<h3 id="2-11-删除文件"><a href="#2-11-删除文件" class="headerlink" title="2.11 删除文件"></a>2.11 删除文件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">fs.unlink(&#x27;路径&#x27;，回调（err）&#123;</span><br><span class="line">	if（err）throw;</span><br><span class="line">	console(&#x27;cg&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-12-文件夹操作"><a href="#2-12-文件夹操作" class="headerlink" title="2.12 文件夹操作"></a>2.12 文件夹操作</h3><blockquote>
<ol>
<li><strong>创建 文件夹</strong></li>
<li><strong>删除文件夹</strong></li>
<li><strong>读取文件夹</strong></li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">// fs.mkdir(&#x27;路径&#x27;,回调函数（err）&#123;&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fs.mkdir(&#x27;new&#x27;,function(err)&#123;</span><br><span class="line">	if(err) throw err;</span><br><span class="line">	console.log(&#x27;cg&#x27;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">fs.readdir(&#x27;./new&#x27;,function(err,files)&#123;</span><br><span class="line">	if(err) throw err;</span><br><span class="line">	//读取文件下下的列表</span><br><span class="line">	console.log(files);</span><br><span class="line">&#125; )</span><br><span class="line"></span><br><span class="line">fs.rmdir(&#x27;./new&#x27;,err=&gt;&#123;</span><br><span class="line">	if(err) throw err;</span><br><span class="line">	console.log(cg);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-13-获取文件的状态"><a href="#2-13-获取文件的状态" class="headerlink" title="2.13 获取文件的状态"></a>2.13 获取文件的状态</h3><blockquote>
<p><strong>不能通过文件的名称来判断文件的类型</strong></p>
<p>**stats 接收的回调是一个对象 **</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">fs.stat(&#x27;路径&#x27;，function(err,stats)&#123;</span><br><span class="line">	if(err) throw err;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>文件创建练习</strong></p>
<blockquote>
<p><strong>像这种 异步的任务下面有回调函数 然后还有 回调 就称为回调地狱</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">//创建文件夹</span><br><span class="line">fs.mkdir(&#x27;D:/dome&#x27;,err=&gt;&#123;</span><br><span class="line">	if(err) throw err;</span><br><span class="line">	fs.mkdir(&#x27;D:dome/image/logo.png&#x27;,&#x27;abc&#x27;,err=&gt;&#123;</span><br><span class="line">	 	if(err) throw err;</span><br><span class="line">	 	console.log(&#x27;文件创建成功&#x27;);</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-path-路径模块"><a href="#3-path-路径模块" class="headerlink" title="3.path 路径模块"></a>3.path 路径模块</h2><blockquote>
<p><strong>path 是Node.js官方用来处理路径的模块 满足用户对路径处理的需求</strong></p>
</blockquote>
<h3 id="3-1-path-导入"><a href="#3-1-path-导入" class="headerlink" title="3.1 path 导入"></a>3.1 path 导入</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const path=require(&#x27;path&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="3-2-路径拼接-join"><a href="#3-2-路径拼接-join" class="headerlink" title="3.2 路径拼接 join"></a>3.2 路径拼接 join</h3><blockquote>
<p><strong>join 方法可以把多个路径片段拼接成一个完整的路径片段</strong></p>
</blockquote>
<p><strong>注意：..&#x2F; 这个会抵消掉前面的一层路径</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const path=require(&#x27;path&#x27;);</span><br><span class="line">let patharr=path.join(&#x27;/a&#x27;,&#x27;/b/c&#x27;,&#x27;../&#x27;,&#x27;/d&#x27;);</span><br><span class="line">console.log(patharr)</span><br></pre></td></tr></table></figure>

<p><strong>上面代码输出为：\a\b\d</strong></p>
<p><strong>在后面如果要使用路径拼接的时候就只用path方法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const path=require(&#x27;path&#x27;);</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">console.log(__dirname);</span><br><span class="line">fs.readFile(path.join(__dirname,&#x27;/1.txt&#x27;),&#x27;utf8&#x27;,function(err,dataStr)&#123;</span><br><span class="line">	if(err)&#123;</span><br><span class="line">		return console.log(&#x27;cw&#x27;);</span><br><span class="line"></span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		return console.log(dataStr);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>

<h3 id="3-3-获取路径的最后部分-basename"><a href="#3-3-获取路径的最后部分-basename" class="headerlink" title="3.3 获取路径的最后部分 basename"></a>3.3 获取路径的最后部分 basename</h3><blockquote>
<p><strong>使用path.basename()方法可以获取路径中的最后一部分 通常用啦获取文件中的文件名</strong></p>
<p>**path.basename(文件路径path,文件的后缀名) **</p>
<p>**第二个 参数是是否去掉文件的后缀名 **</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path=<span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fpath=<span class="string">&#x27;a/b/b/index.html&#x27;</span>;</span><br><span class="line"><span class="comment">//获取完整的文件名 包括后缀</span></span><br><span class="line"><span class="keyword">let</span> fname=path.<span class="title function_">basename</span>(fpath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fname);</span><br><span class="line"><span class="comment">//返回值   index.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//清楚掉后缀</span></span><br><span class="line"><span class="keyword">let</span> fname2=path.<span class="title function_">basename</span>(fpath,<span class="string">&#x27;.html&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fname2);</span><br><span class="line"><span class="comment">//返回值    index</span></span><br></pre></td></tr></table></figure>

<h3 id="3-4-获取文件的扩展名-extname"><a href="#3-4-获取文件的扩展名-extname" class="headerlink" title="3,4 获取文件的扩展名 extname()"></a>3,4 获取文件的扩展名 extname()</h3><blockquote>
<p><strong>path.extname( 文件路径 )</strong></p>
<p><strong>返回值是文件的后缀名</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">let fname3=path.extname(fpath);</span><br><span class="line">console.log(fname3);</span><br><span class="line">//返回值是 .html</span><br></pre></td></tr></table></figure>

<h2 id="4-缓冲器"><a href="#4-缓冲器" class="headerlink" title="4.缓冲器"></a>4.缓冲器</h2><blockquote>
<p><strong>buffer 是一个和数组类似的对象 但是是专门用来保存二进制的</strong></p>
</blockquote>
<ul>
<li><p>buffer 的初始化</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const buf1=Buffer.alloc(10);创建一个10字节的buffer</span><br><span class="line">const buf2=Buffer.clocUnsafe(10); </span><br><span class="line">const bur3=Buffer.from(&#x27;字符串&#x27;); 返回的是与字符对应的ascll</span><br></pre></td></tr></table></figure>
</li>
<li><p>Buffer 数据的读取</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">const buf3=buffer.from(&#x27;ddd&#x27;);</span><br><span class="line">console.log(buf3[0]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">buf[1]=00;//直接修改</span><br></pre></td></tr></table></figure>
</li>
<li><p>buffer 溢出</p>
<blockquote>
<p>**8 个2进制位能保存的最大的是255 如果这个数字超过255的话 **</p>
<p><strong>高于8位的二进制位就会被舍弃</strong></p>
</blockquote>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">#### 介绍</span><br><span class="line"></span><br><span class="line">Buffer 是一个和数组类似的对象，不同是 Buffer 是专门用来保存二进制数据的</span><br><span class="line"></span><br><span class="line">#### 特点</span><br><span class="line"></span><br><span class="line">* 大小固定：在创建时就确定了，且无法调整</span><br><span class="line">* 性能较好：直接对计算机的内存进行操作</span><br><span class="line">* 每个元素大小为 1 字节（byte）</span><br><span class="line"></span><br><span class="line">#### 操作</span><br><span class="line"></span><br><span class="line">##### 创建 Buffer</span><br><span class="line"></span><br><span class="line">* 直接创建 Buffer.alloc</span><br><span class="line">* 不安全创建 Buffer.allocUnsafe</span><br><span class="line"></span><br><span class="line">* 通过数组和字符串创建 Buffer.from</span><br><span class="line"></span><br><span class="line">##### Buffer 读取和写入</span><br><span class="line"></span><br><span class="line">可以直接通过 `[]` 的方式对数据进行处理，可以使用 toString 方法将 Buffer 输出为字符串</span><br><span class="line"></span><br><span class="line">* ==[ ]== 对 buffer 进行读取和设置</span><br><span class="line">* ==toString== 将 Buffer 转化为字符串</span><br><span class="line"></span><br><span class="line">##### 关于溢出</span><br><span class="line"></span><br><span class="line">溢出的高位数据会舍弃</span><br><span class="line"></span><br><span class="line">##### 关于中文</span><br><span class="line"></span><br><span class="line">一个 UTF-8 的中文字符大多数情况都是占 3 个字节</span><br><span class="line"></span><br><span class="line">##### 关于单位换算</span><br><span class="line"></span><br><span class="line">1Bit 对应的是 1 个二进制位</span><br><span class="line"></span><br><span class="line">8 Bit = 1 字节（Byte）</span><br><span class="line"></span><br><span class="line">1024Byte = 1KB </span><br><span class="line"></span><br><span class="line">1024KB = 1MB</span><br><span class="line"></span><br><span class="line">1024MB = 1GB</span><br><span class="line"></span><br><span class="line">1024GB = 1TB</span><br><span class="line"></span><br><span class="line">平时所说的网速 10M 20M 100M 这里指的是 Bit ，所以理论下载速度 除以 8 才是正常的理解的下载速度</span><br><span class="line"></span><br><span class="line">### 文件系统 fs</span><br><span class="line"></span><br><span class="line">fs 全称为 file system，是 NodeJS 中的内置模块，可以对计算机中的文件进行增删改查等操作。</span><br><span class="line"></span><br><span class="line">##### 文件写入</span><br><span class="line"></span><br><span class="line">* 简单写入</span><br><span class="line">  * fs.writeFile(file, data, [,options], callback);</span><br><span class="line">  * fs.writeFileSync(file, data);</span><br><span class="line">  * options 选项</span><br><span class="line">    * `encoding` **默认值:** `&#x27;utf8&#x27;`</span><br><span class="line">    * `mode`**默认值:** `0o666`</span><br><span class="line">    * `flag` **默认值:** `&#x27;w&#x27;`</span><br><span class="line">* 流式写入</span><br><span class="line">  * fs.createWriteStream(path[, options])</span><br><span class="line">    * path</span><br><span class="line">    * options</span><br><span class="line">      * ==flags==   **默认值:** `&#x27;w&#x27;`</span><br><span class="line">      * `encoding `**默认值:** `&#x27;utf8&#x27;`</span><br><span class="line">      * `mode`   **默认值:** `0o666`</span><br><span class="line">    * 事件监听 open  close  eg:  ws.on(&#x27;open&#x27;, function()&#123;&#125;);</span><br><span class="line"></span><br><span class="line">##### 文件读取</span><br><span class="line"></span><br><span class="line">* 简单读取</span><br><span class="line">  * fs.readFile(file, function(err, data)&#123;&#125;)</span><br><span class="line">  * fs.readFileSync(file)</span><br><span class="line">* 流式读取</span><br><span class="line">  * fs.createReadStream();</span><br><span class="line"></span><br><span class="line">##### 文件删除</span><br><span class="line"></span><br><span class="line">* fs.unlink(&#x27;./test.log&#x27;, function(err)&#123;&#125;);</span><br><span class="line">* fs.unlinkSync(&#x27;./move.txt&#x27;);</span><br><span class="line"></span><br><span class="line">##### 移动文件 + 重命名</span><br><span class="line"></span><br><span class="line">* fs.rename(&#x27;./1.log&#x27;, &#x27;2.log&#x27;, function(err)&#123;&#125;)</span><br><span class="line">* fs.renameSync(&#x27;1.log&#x27;,&#x27;2.log&#x27;)</span><br><span class="line"></span><br><span class="line">##### 文件夹操作</span><br><span class="line"></span><br><span class="line">* mkdir  创建文件夹</span><br><span class="line">  * path</span><br><span class="line">  * options </span><br><span class="line">    * recursive 是否递归调用</span><br><span class="line">    * mode  权限 默认为 0o777</span><br><span class="line">  * callback </span><br><span class="line">* rmdir 删除文件夹</span><br><span class="line">* readdir  读取文件夹</span><br></pre></td></tr></table></figure>

<h2 id="5-http协议"><a href="#5-http协议" class="headerlink" title="5.http协议"></a>5.http协议</h2><blockquote>
<p>**超文本传输协议 都遵守这种约定来进行数据的传输 **</p>
</blockquote>
<h3 id="5-1-网页的加载过程"><a href="#5-1-网页的加载过程" class="headerlink" title="5.1 网页的加载过程"></a>5.1 网页的加载过程</h3><blockquote>
<p><strong>四次 浏览器向服务器发送请求 服务器向浏览器返回响应</strong></p>
</blockquote>
<h3 id="5-2-请求报文"><a href="#5-2-请求报文" class="headerlink" title="5.2 请求报文"></a>5.2 请求报文</h3><blockquote>
<p><strong>请求报文由四个部分组成</strong></p>
</blockquote>
<ol>
<li><p><strong>请求行</strong></p>
<blockquote>
<p><strong>三段内容组成：</strong></p>
<blockquote>
<ul>
<li><strong>请求方式 ：常见的就是get 个psot 其他的用的相对较少</strong></li>
<li>**URL： **</li>
</ul>
<p>** 组成：**</p>
<blockquote>
<p>*<em>协议 ：*</em>*<em>https 、 http</em>* mongodb ftp ssh 协议</p>
<p>**域名 ： **<a target="_blank" rel="noopener" href="https://1552312346.github.io/2024/05/01/Node-js/www.badu.com">www.badu.com</a> 域名IP地址</p>
<p><strong>路径 ： &#x2F;s</strong></p>
<p><strong>查询字符串：rsv_spt&#x3D;1 &amp; rsv_iqid&#x3D;0xd1044 表示的是映射的关系 参数</strong></p>
</blockquote>
<ul>
<li><strong>HTTP&#x2F;1.1 HTTP协议的版本 这个一般是固定的</strong></li>
</ul>
</blockquote>
</blockquote>
</li>
<li><p><strong>请求头 格式：请求头的名字：请求头的值</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">请求行      GET https://www.baidu.com /?tn=80035161_1_dg HTTP/1.1</span><br><span class="line">请求头       Accept: text/html, application/xhtml+xml, image/jxr, */*         表明客户端所能接受的数据的类型   </span><br><span class="line">            Accept-Language: zh-Hans-CN,zh-Hans;q=0.5                       表明客户端支持的语言类型</span><br><span class="line">            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; Touch; rv:11.0) like Gecko  客户端的字符串标志</span><br><span class="line">            Accept-Encoding: gzip, deflate           表明客户端支持的压缩方式                           </span><br><span class="line">            Host: www.baidu.com                      服务端的主机名</span><br><span class="line">            Connection: Keep-Alive                   连接配置  Keep-Alive 保持连接  close  断开</span><br><span class="line">            Cookie: BD_UPN=1126314751; BD_HOME=1;    Cookie 小甜饼</span><br><span class="line">            Cache-Control: max-age=120               缓存控制</span><br><span class="line">            Upgrade-Insecure-Requests: 1             强制浏览器发送请求时使用 https</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>请求空行 在格式上做一些分割</strong></p>
</li>
<li><p><strong>请求体</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">请求体</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">POST https://processon.com/login HTTP/1.1</span><br><span class="line">Accept: text/html, application/xhtml+xml, image/jxr, */*</span><br><span class="line">Referer: https://processon.com/login?f=index</span><br><span class="line">Accept-Language: zh-Hans-CN,zh-Hans;q=0.5</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; Touch; rv:11.0) like Gecko</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Host: processon.com</span><br><span class="line">Content-Length: 61</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line"></span><br><span class="line">login_email=779498590@qq.com&amp;login_password=GREM9pus.fek-soos</span><br></pre></td></tr></table></figure>

<p>请求体内容</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">login_email=779498590@qq.com&amp;login_password=GREM9pus.fek-soos</span><br></pre></td></tr></table></figure>

<p>form 表单</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HTML</span><br><span class="line">&lt;form method=&quot;post&quot;&gt;</span><br><span class="line">    &lt;input name=&quot;login_email&quot;&gt;</span><br><span class="line">    &lt;input name=&quot;login_password&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;登录&quot;/&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>请求体的格式是非常灵活的, 不</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-3-响应报文"><a href="#5-3-响应报文" class="headerlink" title="5.3 响应报文"></a>5.3 响应报文</h3><ol>
<li><p>组成部分</p>
<blockquote>
<ul>
<li><p><strong>响应行</strong></p>
<blockquote>
<p><strong>协议的版本 HTTP&#x2F;1.1</strong></p>
<p><strong>响应的状态码</strong></p>
<ul>
<li><p><strong>200 成功</strong></p>
</li>
<li><p><strong>302 跳转</strong></p>
</li>
<li><p><strong>404 找不到资源</strong></p>
</li>
<li><p><strong>403 禁止的</strong></p>
</li>
<li><p>500 服务器内部错误</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">信息响应(100–199)，</span><br><span class="line">成功响应(200–299)，</span><br><span class="line">重定向(300–399)，</span><br><span class="line">客户端错误(400–499)</span><br><span class="line">服务器错误 (500–599)响应的状态字符串  </span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<blockquote>
<p>**响应的状态字符串 **</p>
</blockquote>
</li>
<li><p><strong>响应头</strong></p>
<blockquote>
<p><strong>响应头格式与请求头格式一致 『名字: 值』</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">Bdpagetype: 1</span><br><span class="line">Bdqid: 0xf4330ae2000009bd</span><br><span class="line">Cache-Control: private</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Content-Type: text/html;charset=utf-8</span><br><span class="line">Date: Sat, 07 Nov 2020 03:08:03 GMT</span><br><span class="line">Expires: Sat, 07 Nov 2020 03:08:03 GMT</span><br><span class="line">Server: BWS/1.1</span><br><span class="line">Set-Cookie: BDSVRTM=12; path=/</span><br><span class="line">Strict-Transport-Security: max-age=172800</span><br><span class="line">Traceid: 1604718483242292455417596420134845548989</span><br><span class="line">X-Ua-Compatible: IE=Edge,chrome=1</span><br><span class="line">Content-Length: 289603</span><br></pre></td></tr></table></figure>

<p><strong>Bdpagetype 和 Bdqid 为百度自定义的响应头</strong></p>
<ul>
<li><strong>Cache-Control 缓存控制 private 只允许客户端缓存数据 public</strong></li>
<li><strong>Connection 连接设置</strong></li>
<li><strong>Content-Type</strong> 『响应体』内容的类型</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types</a></li>
<li><strong>text&#x2F;html 表明响应体为 HTML 内容</strong></li>
<li><strong>text&#x2F;css 表明响应体为 CSS 内容</strong></li>
<li><strong>application&#x2F;javascript 表明响应体为 JavaScript</strong></li>
<li><strong>image&#x2F;png 表明响应体为 png 的图片</strong></li>
<li><strong>Date 响应时间</strong></li>
<li><strong>Expires 过期时间</strong></li>
<li><strong>Server 服务器信息</strong></li>
<li><strong>Set-Cookie 设置 cookie</strong></li>
<li><strong>Strict-Transport-Security 响应头与Upgrade-Insecure-Requests结合使用</strong></li>
<li><strong>Traceid 跟踪 id</strong></li>
<li><strong>X-Ua-Compatible IE&#x3D;Edge,chrome&#x3D;1 强制IE浏览器使用最新的解析器解析网页, 使用 chrome 的内核解析网页</strong></li>
<li><strong>Content-Length 响应体的长度</strong></li>
</ul>
</blockquote>
</li>
<li><p><strong>响应空行</strong></p>
</li>
<li><p><strong>响应体</strong></p>
<blockquote>
<p><strong>响应体格式比较灵活, 场景的格式有</strong></p>
<ul>
<li><strong>HTML</strong></li>
<li><strong>JavaScript</strong></li>
<li><strong>CSS</strong></li>
<li><strong>JSON</strong></li>
<li>**图片 **</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="5-4Cream-查看请求报文与响应报文-重要"><a href="#5-4Cream-查看请求报文与响应报文-重要" class="headerlink" title="5.4Cream 查看请求报文与响应报文( 重要 )"></a>5.4Cream 查看请求报文与响应报文( 重要 )</h3><h3 id="5-5-创建HTTP服务"><a href="#5-5-创建HTTP服务" class="headerlink" title="5.5 创建HTTP服务"></a>5.5 创建HTTP服务</h3><blockquote>
<ol>
<li><strong>引入模块</strong></li>
<li><strong>调用方法 创建服务对象</strong></li>
<li><strong>监听端口 启动服务</strong></li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">//1. 引入 http 模块</span><br><span class="line">const http = require(&#x27;http&#x27;);</span><br><span class="line">//2. 调用方法 创建服务对象</span><br><span class="line">/**</span><br><span class="line"> * request 请求报文的封装对象</span><br><span class="line"> * response 响应报文的封装对象</span><br><span class="line"> */</span><br><span class="line">const server = http.createServer(function(request, response)&#123;</span><br><span class="line">    response.end(&#x27;hello http selver&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//3. 监听端口 启动服务</span><br><span class="line">server.listen(80, function()&#123;</span><br><span class="line">    console.log(&#x27;服务已经启动, 端口 80 监听中.....&#x27;);</span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure>

<h3 id="5-6-请求报文的请求方式"><a href="#5-6-请求报文的请求方式" class="headerlink" title="5.6 请求报文的请求方式"></a>5.6 请求报文的请求方式</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">//1. 引入 http 模块</span><br><span class="line">const http = require(&#x27;http&#x27;);</span><br><span class="line">const URL=require(&#x27;url&#x27;);</span><br><span class="line">//引入URL 的模块</span><br><span class="line">//2. 调用方法 创建服务对象</span><br><span class="line">/**</span><br><span class="line"> * request 请求报文的封装对象</span><br><span class="line"> * response 响应报文的封装对象</span><br><span class="line"> */</span><br><span class="line">const server = http.createServer(function(request, response)&#123;</span><br><span class="line">   // 获取请求报文中的内容</span><br><span class="line">   // 1.请求的类型  GIT</span><br><span class="line">   // console.log(request.method);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   // 2.请求的url</span><br><span class="line">   // console.log(request.url);</span><br><span class="line">   //请求的http 协议版本</span><br><span class="line">   // console.log(request.httpVersion);</span><br><span class="line"></span><br><span class="line">   // 客户端会向服务端发送请求 发送的是请求报文 请求报文</span><br><span class="line">    //请求报文由请求行 请求行包括 get post 、url  由协议域名 端口组成</span><br><span class="line"></span><br><span class="line">    //服务端会向客户端发送响应 这个叫做响应报文</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   //------------------------------获取URL中的路径的部分</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   console.log(URL.parse(request.url,true));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   //------------------------------请求头信息</span><br><span class="line">   console.log(request.headers);</span><br><span class="line">   response.end(&#x27;home&#x27;);</span><br><span class="line"></span><br><span class="line">   //修改js代码一定要重启node服务 </span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//3. 监听端口 启动服务</span><br><span class="line">server.listen(80, function()&#123;</span><br><span class="line">    console.log(&#x27;服务已经启动, 端口 80 监听中.....&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="5-7响应报文的一些api"><a href="#5-7响应报文的一些api" class="headerlink" title="5.7响应报文的一些api"></a>5.7响应报文的一些api</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const http=require(&#x27;http&#x27;);</span><br><span class="line"></span><br><span class="line">const server=http.createServer(function(request,respose)&#123;</span><br><span class="line">	//响应行</span><br><span class="line">	//状态码 </span><br><span class="line">	 respose.statusCode=404;</span><br><span class="line">	 </span><br><span class="line">	 //状态字符串</span><br><span class="line">	 respose.statusMessage=&#x27;dadfasdf&#x27;;</span><br><span class="line">	 </span><br><span class="line">	 </span><br><span class="line">	 </span><br><span class="line">	 //响应头</span><br><span class="line">	 respose.setHeader(&#x27;Content-type&#x27;,&#x27;text/html;charset=utf-8&#x27;);</span><br><span class="line">	 //自定义信息</span><br><span class="line">	 respose.setHeader(&#x27;abc&#x27;,&#x27;1000000&#x27;);</span><br><span class="line">	 </span><br><span class="line">	 //响应体 响应体不能为空</span><br><span class="line">	 respose.write(&#x27;dasfasddfasdfffffffffffffffffffffffffffffffffffff&#x27;);</span><br><span class="line">	respose.end(&#x27;hello node js server&#x27;);</span><br><span class="line">&#125; )</span><br><span class="line"> server.listen(80,function()&#123;</span><br><span class="line">	 console.log(&#x27;dddddddd&#x27;);</span><br><span class="line"> &#125; )</span><br></pre></td></tr></table></figure>

<h3 id="5-8-Http-练习（多个）"><a href="#5-8-Http-练习（多个）" class="headerlink" title="5.8 Http 练习（多个）"></a>5.8 Http 练习（多个）</h3><ul>
<li><p><strong>背景变色</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const http = require(&#x27;http&#x27;);</span><br><span class="line">const url = require(&quot;url&quot;);</span><br><span class="line">const server = http.createServer((request, response) =&gt; &#123;</span><br><span class="line">    //设置响应头</span><br><span class="line">    // response.setHeader(&#x27;Content-Type&#x27;,&#x27;text/html;charset=utf-8&#x27;);</span><br><span class="line">    // 获取请求 url 中的 『bg』参数</span><br><span class="line">    let bg = url.parse(request.url, true).query.bg ? url.parse(request.url, true).query.bg : &#x27;#edf&#x27;</span><br><span class="line">    //设置响应体</span><br><span class="line">    response.end(`</span><br><span class="line">        &lt;!doctype html&gt;</span><br><span class="line">        &lt;html&gt;</span><br><span class="line">        &lt;head&gt;</span><br><span class="line">            &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">            &lt;style&gt;</span><br><span class="line">                body&#123;</span><br><span class="line">                    background: $&#123;bg&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &lt;/style&gt;</span><br><span class="line">        &lt;/head&gt;</span><br><span class="line">        &lt;body&gt;</span><br><span class="line">            &lt;h1&gt;</span><br><span class="line">            身是菩提树，心如明镜台，时时勤拂拭，勿使惹尘埃。</span><br><span class="line">            &lt;/h1&gt;</span><br><span class="line">        &lt;/body&gt;</span><br><span class="line">        &lt;/html&gt;</span><br><span class="line"></span><br><span class="line">    `);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(80);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>数据表格加载、</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const data=[</span><br><span class="line"></span><br><span class="line">	&#123;id:1,</span><br><span class="line">	name:&#x27;hahah&#x27;,</span><br><span class="line">	song:&#x27;dfjasdf&#x27;&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		id:2,</span><br><span class="line">		name:&#x27;dfsadsf&#x27;,</span><br><span class="line">		song:&#x27;dadfewfghh&#x27;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const http=require(&#x27;http&#x27;);</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line"></span><br><span class="line">const server=http.createServer(function(request, response)&#123;</span><br><span class="line"></span><br><span class="line">	let str=&#x27;&#x27;;</span><br><span class="line">	for(let i=0;i&lt;data.length;i++)&#123;</span><br><span class="line">		str+=`&lt;tr&gt;&lt;td&gt;$&#123;data[i].id&#125;&lt;/td&gt;&lt;td&gt;$&#123;data[i].name&#125;&lt;/td&gt;&lt;td&gt;$&#123;data[i].song&#125;&lt;/td&gt;&lt;/tr&gt;`;</span><br><span class="line">	&#125;</span><br><span class="line">	response.end(`</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;table&gt;</span><br><span class="line">			&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt;song&lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">			$&#123;str&#125;</span><br><span class="line">		&lt;/table&gt;</span><br><span class="line">		&lt;script src=&#x27;127.0.0.1/&#x27;&gt;&lt;/script&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">`);</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">server.listen(80,function()&#123;</span><br><span class="line">	console.log(&#x27;80 &#x27;);</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>不同请求返回不同结果</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">//根据不同的路径来返回不同的结果</span><br><span class="line">const http=require(&#x27;http&#x27;);</span><br><span class="line">const url=require(&#x27;url&#x27;);</span><br><span class="line"></span><br><span class="line">const server=http.createServer(function(reqeust,respons)&#123;</span><br><span class="line"></span><br><span class="line">	//获取请求类型 gat</span><br><span class="line">	let method=request.method;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	//获取路径</span><br><span class="line">	let pathname=url.parse(reqeust.url,true).pathname;</span><br><span class="line"></span><br><span class="line">	//判断 看是什么请求</span><br><span class="line">	if(mathod.toUpperCase()===&#x27;GET&#x27;&amp;&amp;pathname===&#x27;/login&#x27;)&#123;</span><br><span class="line">		respons.write(&#x27;登录&#x27;);</span><br><span class="line">	&#125;</span><br><span class="line">	if(mathod.toUpperCase()===&#x27;GET&#x27;&amp;&amp;pathname===&#x27;/register&#x27;)&#123;</span><br><span class="line">		respons.write(&#x27;注册&#x27;);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		respons.end(&#x27;&lt;h1&gt;404 not found&lt;h1&gt;&#x27;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">server.listen(80,function()&#123;</span><br><span class="line">	console.log(&#x27;cg&#x27;);</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>响应js代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const data=[</span><br><span class="line"></span><br><span class="line">	&#123;id:1,</span><br><span class="line">	name:&#x27;hahah&#x27;,</span><br><span class="line">	song:&#x27;dfjasdf&#x27;&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		id:2,</span><br><span class="line">		name:&#x27;dfsadsf&#x27;,</span><br><span class="line">		song:&#x27;dadfewfghh&#x27;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const http=require(&#x27;http&#x27;);</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">const url=require(&#x27;url&#x27;);</span><br><span class="line">const server=http.createServer(function(request, response)&#123;</span><br><span class="line"></span><br><span class="line">	//---------存在中文解码错误的问题 所以需要我们调用一个一个函数来对中文路径来进行解码</span><br><span class="line">	//decodeURL 能对中文路径进行解码</span><br><span class="line">	let pathname=decodeURI(url.parse(request.url,true).pathname);</span><br><span class="line">	//如果请求为路径为 变色.js的话就返回解析后的js</span><br><span class="line"></span><br><span class="line">	if(pathname===&#x27;/dome&#x27;)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		let str=&#x27;&#x27;;</span><br><span class="line">			for(let i=0;i&lt;data.length;i++)&#123;</span><br><span class="line">				str+=`&lt;tr&gt;&lt;td&gt;$&#123;data[i].id&#125;&lt;/td&gt;&lt;td&gt;$&#123;data[i].name&#125;&lt;/td&gt;&lt;td&gt;$&#123;data[i].song&#125;&lt;/td&gt;&lt;/tr&gt;`;</span><br><span class="line">			&#125;</span><br><span class="line">			response.end(`</span><br><span class="line">		&lt;html&gt;</span><br><span class="line">			&lt;head&gt;</span><br><span class="line">				&lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">				&lt;title&gt;&lt;/title&gt;</span><br><span class="line">			&lt;/head&gt;</span><br><span class="line">			&lt;body&gt;</span><br><span class="line">				&lt;table&gt;</span><br><span class="line">					&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt;song&lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">					$&#123;str&#125;</span><br><span class="line">				&lt;/table&gt;</span><br><span class="line">				&lt;script src=&#x27;127.0.0.1/变色.js&#x27;&gt;&lt;/script&gt;</span><br><span class="line">			&lt;/body&gt;</span><br><span class="line">		&lt;/html&gt;</span><br><span class="line">		`);</span><br><span class="line">	&#125;else if(pathname===&#x27;/变色.js&#x27;)&#123;</span><br><span class="line">		let js=fs/readFileSyns(&#x27;./变色.js&#x27;);</span><br><span class="line">		response.end(js);</span><br><span class="line">		console.log(&#x27;cssdfsafasdfsa&#x27;);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		response.end(&#x27;404&#x27;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">server.listen(80,function()&#123;</span><br><span class="line">	console.log(&#x27;80 &#x27;);</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>根据路径响应文件内容</strong></p>
<blockquote>
<p><strong>使用 url.parse()方法将路径解析为一个方便操作的对象。</strong><br><strong>第二个参数为 true 表示直接将查询字符串转为一个对象（通过query属性来访问）</strong></p>
</blockquote>
<blockquote>
<p><strong>发get请求 如果是&#x2F;index .html 就返回 public&#x2F;index.html 的内容返回</strong></p>
<p><strong>如果是其他的就返回其他的</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line"></span><br><span class="line">const http=require(&#x27;http&#x27;);</span><br><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">const url=require(&#x27;url&#x27;);</span><br><span class="line">const server=http.createServer(function(request,response)&#123;</span><br><span class="line"></span><br><span class="line">	const pathname=(url.parse(request.url,true)).pathname;</span><br><span class="line">	if(pathname===&#x27;/index.html&#x27;)&#123;</span><br><span class="line">		let html=fs.readFileSync(&#x27;./index.html&#x27;);</span><br><span class="line">		response.end(html);</span><br><span class="line">	&#125;else if(pathname===&#x27;/css&#x27;)&#123;</span><br><span class="line">		let css=fs.readFileSync(__dirname+&#x27;/css/app.css&#x27;)</span><br><span class="line">		response.end(css);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		response.end(&#x27;ddddddddd&#x27;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125; )</span><br><span class="line"></span><br><span class="line">server.listen(80,function()&#123;</span><br><span class="line">	console.log(&#x27;服务已经启动 80端口监听中&#x27;);</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p>**路径响应 **</p>
<blockquote>
<p><strong>fs.readFile(filePath,function(err,data){</strong></p>
<p><strong>if(err){ 404}</strong></p>
<p><strong>else{ data}</strong></p>
<p><strong>})</strong></p>
</blockquote>
</li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/avatar.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/avatar.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Yalemandy</div><div class="post-copyright__author_desc">不负韶华，以马为梦！</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://yalemandy.github.io/2024/05/16/NodeJs/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://yalemandy.github.io/2024/05/16/NodeJs/')">AJAX</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/./img/wechatpay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/wechatpay.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/./img/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://yalemandy.github.io/2024/05/16/NodeJs/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=undefined&amp;url=https://yalemandy.github.io/2024/05/16/NodeJs/&amp;pic=undefined" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://Yalemandy.github.io" target="_blank">Yalemandy Blog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>前端<span class="tagsPageCount">5</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=16" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/16/vue3/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=10" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">vue3</div></div></a></div><div class="next-post pull-right"><a href="/2024/05/16/AJAX/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=16" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">AJAX</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/05/16/AJAX/" title="AJAX"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&_t=16" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-16</div><div class="title">AJAX</div></div></a></div><div><a href="/2024/05/16/css/" title="CSS + CSS3"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&_t=18" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-16</div><div class="title">CSS + CSS3</div></div></a></div><div><a href="/2024/05/16/JavaScript/" title="JavaScript"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&_t=17" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-16</div><div class="title">JavaScript</div></div></a></div><div><a href="/2024/05/16/html+css/" title="HTML+CSS基础知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&_t=14" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-16</div><div class="title">HTML+CSS基础知识</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.baidu.com/search/detail?ct=503316480&amp;z=0&amp;ipn=d&amp;word=%E5%A5%BD%E7%9C%8B%E7%9A%84%E8%A1%A8%E6%83%85%20%E6%A9%99%E5%AD%90&amp;step_word=&amp;hs=0&amp;pn=24&amp;spn=0&amp;di=7360350738658099201&amp;pi=0&amp;rn=1&amp;tn=baiduimagedetail&amp;is=0%2C0&amp;istype=2&amp;ie=utf-8&amp;oe=utf-8&amp;in=&amp;cl=2&amp;lm=-1&amp;st=-1&amp;cs=2559306466%2C3544273594&amp;os=1478209891%2C1636718095&amp;simid=3232128632%2C3806131299&amp;adpicid=0&amp;lpn=0&amp;ln=1575&amp;fr=&amp;fmq=1718512538121_R&amp;fm=result&amp;ic=&amp;s=undefined&amp;hd=&amp;latest=&amp;copyright=&amp;se=&amp;sme=&amp;tab=0&amp;width=&amp;height=&amp;face=undefined&amp;ist=&amp;jit=&amp;cg=&amp;bdtype=0&amp;oriquery=&amp;objurl=https%3A%2F%2Fku.90sjimg.com%2Felement_origin_min_pic%2F18%2F02%2F23%2F3d926269ec38867d641683a937ee7956.jpg!%2Ffwfh%2F804x883%2Fquality%2F90%2Funsharp%2Ftrue%2Fcompress%2Ftrue&amp;fromurl=ippr_z2C%24qAzdH3FAzdH3Flafij3t_z%26e3Bv54AzdH3Ff7vwtAzdH3Fdddlbdmd_z%26e3Bip4s&amp;gsm=1e&amp;rpstart=0&amp;rpnum=0&amp;islist=&amp;querylist=&amp;nojc=undefined&amp;dyTabStr=MCwzLDIsMSw0LDYsNSw3LDgsOQ%3D%3D&amp;lid=9399733926543576123" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Yalemandy</h1><div class="author-info__desc">不负韶华，以马为梦！</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Yalemandy/Yalemandy.github.io" target="_blank" title="Github"><i class="fa-brands fa-github faa-data"></i></a><a class="social-icon faa-parent animated-hover" href="https://blog.csdn.net/2301_76766304?spm=1000.2115.3001.5343" target="_blank" title="CSDN"><i class="fa-sharp fa-solid fa-c faa-data"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Node"><span class="toc-number">1.</span> <span class="toc-text">Node.</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8BNode-js"><span class="toc-number">1.1.</span> <span class="toc-text">1.简介Node.js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Node-js%E4%B8%AD%E5%8C%85%E5%90%AB%E7%9A%84js%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 Node .js中包含的js运行环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2Node-js-%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2Node.js 作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-Node-js-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 Node.js 学习路线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%BB%88%E7%AB%AF"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4 终端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-Buffer-%E7%BC%93%E5%86%B2%E5%99%A8"><span class="toc-number">1.1.5.</span> <span class="toc-text">1.5 Buffer(缓冲器)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.</span> <span class="toc-text">2.文件系统模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%AF%BC%E5%85%A5-fs"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 导入 fs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%8F%96%E4%B8%8E%E5%86%99%E5%85%A5"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 文件的读取与写入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%BC%82%E6%AD%A5%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 异步写入文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E8%B7%AF%E5%BE%84%E5%8A%A8%E6%80%81%E6%8B%BC%E6%8E%A5%E3%80%81"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4路径动态拼接、</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%99%E5%85%A5%E5%9C%BA%E6%99%AF"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5 文件的写入场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E6%B5%81"><span class="toc-number">1.2.6.</span> <span class="toc-text">2.6 文件写入流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%8F%96"><span class="toc-number">1.2.7.</span> <span class="toc-text">2.7 文件的读取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E6%B5%81"><span class="toc-number">1.2.8.</span> <span class="toc-text">2.8 读取文件流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">1.2.9.</span> <span class="toc-text">2.9 文件的复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-10-%E6%96%87%E4%BB%B6%E7%9A%84%E9%87%8D%E5%91%BD%E5%90%8D"><span class="toc-number">1.2.10.</span> <span class="toc-text">2.10 文件的重命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11-%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.11.</span> <span class="toc-text">2.11 删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-12-%E6%96%87%E4%BB%B6%E5%A4%B9%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.12.</span> <span class="toc-text">2.12 文件夹操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-13-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">1.2.13.</span> <span class="toc-text">2.13 获取文件的状态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-path-%E8%B7%AF%E5%BE%84%E6%A8%A1%E5%9D%97"><span class="toc-number">1.3.</span> <span class="toc-text">3.path 路径模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-path-%E5%AF%BC%E5%85%A5"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 path 导入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E8%B7%AF%E5%BE%84%E6%8B%BC%E6%8E%A5-join"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 路径拼接 join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84%E7%9A%84%E6%9C%80%E5%90%8E%E9%83%A8%E5%88%86-basename"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3 获取路径的最后部分 basename</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%A9%E5%B1%95%E5%90%8D-extname"><span class="toc-number">1.3.4.</span> <span class="toc-text">3,4 获取文件的扩展名 extname()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BC%93%E5%86%B2%E5%99%A8"><span class="toc-number">1.4.</span> <span class="toc-text">4.缓冲器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-http%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.5.</span> <span class="toc-text">5.http协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%BD%91%E9%A1%B5%E7%9A%84%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 网页的加载过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 请求报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 响应报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4Cream-%E6%9F%A5%E7%9C%8B%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E4%B8%8E%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87-%E9%87%8D%E8%A6%81"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4Cream 查看请求报文与响应报文( 重要 )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E5%88%9B%E5%BB%BAHTTP%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5 创建HTTP服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E7%9A%84%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">1.5.6.</span> <span class="toc-text">5.6 请求报文的请求方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E7%9A%84%E4%B8%80%E4%BA%9Bapi"><span class="toc-number">1.5.7.</span> <span class="toc-text">5.7响应报文的一些api</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8-Http-%E7%BB%83%E4%B9%A0%EF%BC%88%E5%A4%9A%E4%B8%AA%EF%BC%89"><span class="toc-number">1.5.8.</span> <span class="toc-text">5.8 Http 练习（多个）</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/05/16/AJAX/" title="AJAX"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=16" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AJAX"/></a><div class="content"><a class="title" href="/2024/05/16/AJAX/" title="AJAX">AJAX</a><time datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/16/NodeJs/" title="AJAX"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=11" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AJAX"/></a><div class="content"><a class="title" href="/2024/05/16/NodeJs/" title="AJAX">AJAX</a><time datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/16/vue3/" title="vue3"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vue3"/></a><div class="content"><a class="title" href="/2024/05/16/vue3/" title="vue3">vue3</a><time datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/16/Git/" title="Git笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=15" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git笔记"/></a><div class="content"><a class="title" href="/2024/05/16/Git/" title="Git笔记">Git笔记</a><time datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/16/%E6%99%BA%E6%85%A7%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/" title="智慧商城项目"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=19" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="智慧商城项目"/></a><div class="content"><a class="title" href="/2024/05/16/%E6%99%BA%E6%85%A7%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/" title="智慧商城项目">智慧商城项目</a><time datetime="2024-05-16T10:09:23.000Z" title="发表于 2024-05-16 18:09:23">2024-05-16</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="Yalemandy" target="_blank">Yalemandy</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">7</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="/www.yxyy04.cn" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="/793335974.github.io" title="wjt-blog"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://c.wallhere.com/photos/fd/08/3840x2160_px_black_background_Patrick_Star_Simple_Simple_Background_SpongeBob_SquarePants-1313473.jpg!d" alt="wjt-blog"/><span class="back-menu-item-text">wjt-blog</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Es6/" style="font-size: 0.88rem;">Es6<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>1</sup></a><a href="/tags/Node-Js/" style="font-size: 0.88rem;">Node.Js<sup>1</sup></a><a href="/tags/vue/" style="font-size: 0.88rem;">vue<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.88rem;">前端<sup>5</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.88rem;">数据结构<sup>9</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 0.88rem;">项目<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Yalemandy 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="programming"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>